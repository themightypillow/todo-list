(()=>{"use strict";const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttributeNS(null,"width","20"),e.setAttributeNS(null,"height","20"),e.setAttributeNS(null,"viewBox","0 0 24 24"),e.setAttributeNS(null,"stroke-width","1.5"),e.setAttributeNS(null,"fill","none"),e.setAttributeNS(null,"stroke-linecap","round"),e.setAttributeNS(null,"stroke-linejoin","round");const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttributeNS(null,"stroke","none"),t.setAttributeNS(null,"d","M0 0h24v24H0z"),t.setAttributeNS(null,"fill","none"),e.appendChild(t);const n=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","line");return t.setAttributeNS(null,"x1",e.x1),t.setAttributeNS(null,"y1",e.y1),t.setAttributeNS(null,"x2",e.x2),t.setAttributeNS(null,"y2",e.y2),t},l=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","circle");return t.setAttributeNS(null,"cx",e.cx),t.setAttributeNS(null,"cy",e.cy),t.setAttributeNS(null,"r",e.r),t},o=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttributeNS(null,"d",e),t},r=(()=>{const t=e.cloneNode(!0);return t.setAttributeNS(null,"stroke","#00aaff"),[{x1:"9",y1:"6",x2:"20",y2:"6"},{x1:"9",y1:"12",x2:"20",y2:"12"},{x1:"9",y1:"18",x2:"20",y2:"18"},{x1:"5",y1:"6",x2:"5",y2:"6.01"},{x1:"5",y1:"12",x2:"5",y2:"12.01"},{x1:"5",y1:"18",x2:"5",y2:"18.01"}].forEach((e=>t.appendChild(n(e)))),t})(),c=(()=>{const t=e.cloneNode(!0);return t.setAttributeNS(null,"stroke","#00aaff"),[{x1:"12",y1:"5",x2:"12",y2:"19"},{x1:"5",y1:"12",x2:"19",y2:"12"}].forEach((e=>t.appendChild(n(e)))),t})(),a=(()=>{const t=e.cloneNode(!0);return t.setAttributeNS(null,"stroke","#e8e8e8"),t.appendChild(l({cx:"12",cy:"12",r:"9"})),t})(),d=(()=>{const t=e.cloneNode(!0);return t.setAttributeNS(null,"stroke","#dc4c3f"),[{x1:"4",y1:"7",x2:"20",y2:"7"},{x1:"10",y1:"11",x2:"10",y2:"17"},{x1:"14",y1:"11",x2:"14",y2:"17"}].forEach((e=>t.appendChild(n(e)))),["M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"].forEach((e=>t.appendChild(o(e)))),t})(),s=(()=>{const t=e.cloneNode(!0);return t.setAttributeNS(null,"stroke","#e8e8e8"),t.appendChild(o("M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4")),t.appendChild(l({cx:"18",cy:"18",r:"4"})),["M15 3v4","M7 3v4","M3 11h16","M18 16.496v1.504l1 1"].forEach((e=>t.appendChild(o(e)))),t})(),u=(()=>{const t=e.cloneNode(!0);return t.setAttributeNS(null,"stroke","#e8e8e8"),t.appendChild(o("M5 14h14l-4.5 -4.5l4.5 -4.5h-14v16")),t})(),i=(()=>{let e=[];const t=()=>{o(l("My Tasks")),n()},n=()=>{localStorage.setItem("project-total",e.length)},l=t=>{const n=e.length,l=((e,t)=>{const n=[],l=()=>n.map((e=>e.toObject()));return{setName:t=>e=t,getName:()=>e,store:()=>{localStorage.setItem(`project-${t}`,JSON.stringify({name:e,tasks:l()}))},add:(e,t,l,o)=>{const r=n.length;return n.push(((e,t,n,l,o)=>{let r=!1;return{getId:()=>e,toggleDone:()=>r=!r,togglePrio:()=>o=!o,setTitle:e=>t=e,setDesc:e=>n=e,setDue:e=>l=e,toObject:()=>({title:t,desc:n,dueDate:l,prio:o})}})(n.length,e,t,l,o)),r},remove:e=>n.splice(e.getId(),1),all:l}})(t,n);return e.push(l),n},o=t=>e[t].store();return{update:n,load:()=>{if(0===localStorage.length)t();else if(localStorage.getItem("project-total")){const n=Number(localStorage.getItem("project-total"));if(Number.isInteger(n))for(let o=0;o<n;o++){if(!localStorage.getItem(`project-${o}`)){localStorage.clear(),e=[],t();break}const n=JSON.parse(localStorage.getItem(`project-${o}`)),r=l(n.name);n.tasks.forEach((t=>{e[r].add(t.title,t.desc,new Date(t.dueDate),t.prio)}))}else localStorage.clear(),t()}},add:l,store:o,at:t=>e[t],names:()=>e.map((e=>e.getName()))}})();(()=>{const e=e=>{const t=document.createElement("div");t.classList.add("icon-label");const n=document.createElement("input");n.setAttribute("type","checkbox");const l=document.createElement("label");l.textContent=e,t.appendChild(n),t.appendChild(l);const o=document.querySelector("main"),r=document.querySelector("main > .add");o.insertBefore(t,r)},t=t=>{var n;n=t.querySelector("h4"),document.querySelectorAll(".project > h4").forEach((e=>e.classList.remove("bold"))),n.classList.add("bold");const l=document.querySelector("main");for(;l.firstChild;)l.removeChild(l.firstChild);const o=document.createElement("h2");o.textContent=t.textContent,l.appendChild(o),i.at(t.dataset.index).all().forEach((t=>e(t.title)));const r=document.createElement("div");r.classList.add("icon-label","add"),r.appendChild(c);const a=document.createElement("div");a.textContent="Add Task",r.appendChild(a),r.addEventListener("click",(e=>{const n=document.querySelector("#task-form");n.dataset.index=t.dataset.index,n.style.display="block"})),l.appendChild(r)},n=(e,n)=>{const l=document.querySelector("#projects"),o=document.createElement("div");o.classList.add("icon-label","project"),o.appendChild(r.cloneNode(!0));const c=document.createElement("h4");return c.textContent=e,o.appendChild(c),o.addEventListener("click",(e=>t(e.currentTarget))),o.dataset.index=n,l.appendChild(o),o};document.querySelector("#task-info").appendChild(a),document.querySelector("#task-info").appendChild(d),document.querySelector("#task-info").appendChild(s),document.querySelector("#task-info").appendChild(u),i.load(),i.names().forEach(((e,t)=>n(e,t))),t(document.querySelector("#projects > div")),document.querySelectorAll("form > input[type='text']").forEach((e=>{e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()}))})),function(){const e=document.querySelector("#add-project"),l=document.querySelector("#project-form");e.addEventListener("click",(e=>{l.style.display="block"}));const o=document.querySelector("#new-project-name");document.querySelector("#cancel-project").addEventListener("click",(e=>{e.preventDefault(),o.value="",l.style.display="none"})),document.querySelector("#submit-project").addEventListener("click",(e=>{e.preventDefault(),l.style.display="none";const r=""===o.value?"Untitled":o.value;o.value="";const c=i.add(r);i.update(),i.store(c),t(n(r,c))}))}(),function(){const t=document.querySelector("#task-form"),n=document.querySelector("#new-task-title"),l=document.querySelector("#new-task-desc"),o=document.querySelector("#new-task-due"),r=document.querySelector("#new-task-prio"),c=()=>{n.value="",l.value="",o.value="",r.checked=!1,t.style.display="none"};document.querySelector("#cancel-task").addEventListener("click",(e=>{e.preventDefault(),c()})),document.querySelector("#submit-task").addEventListener("click",(a=>{if(a.preventDefault(),n.value){const c=new Date(o.value?new Date(o.value.replaceAll("-","/")):new Date),a=i.at(t.dataset.index);a.add(n.value,l.value,c,r.checked),a.store(),e(n.value)}c()}))}()})()})();